:root{
  --bg: #f8f9fa;
  --primary: #343a40;
  --accent: #495057;
  --soft: #e9ecef;
  --muted: #6c757d;
  --card: #ffffff;
  --glass: rgba(255, 255, 255, 0.7);
  --radius: 12px;
}

*{box-sizing:border-box}
html,body,#root{height:100%; width: 100%;}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background: var(--bg);
  color:var(--muted);
}

.App{
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

.App-header{
  padding:22px 28px;
  background:linear-gradient(90deg,var(--primary),var(--accent));
  color:white;
  display:flex;
  align-items:center;
  gap:16px;
  box-shadow:0 6px 20px rgba(54, 116, 181, 0.12);
}
.App-header h1{margin:0;font-size:1.25rem;letter-spacing:0.2px}
.App-header p{margin:0;color:rgba(255,255,255,0.9);font-size:0.9rem}

/* Spacer to push user badge to the right */
.header-spacer{flex:1}

/* User badge on the top-right */
.user-badge{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  justify-content:center;
  color:#fff;
  min-width:120px;
}
.user-name{font-weight:700; font-size:0.95rem}
.user-sub{opacity:0.9; font-size:0.8rem}
.user-muted{opacity:0.8}
.user-error{color:#ffd1d1}

.main-content{display:flex;flex:1;min-width:0}

.sidebar{
  width:220px;
  background:linear-gradient(180deg,var(--accent),var(--primary));
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:stretch;
  border-top-right-radius:var(--radius);
  border-bottom-right-radius:var(--radius);
  box-shadow:2px 0 12px rgba(20,40,70,0.06);
}
.brand{color:rgba(255,255,255,0.95);font-weight:700;margin-bottom:8px}
.sidebar-button{appearance:none;border:0;background:transparent;color:rgba(255,255,255,0.95);padding:12px 14px;border-radius:10px;text-align:left;font-weight:600;cursor:pointer;display:flex;gap:10px;align-items:center;transition:all .18s ease}
.sidebar-button:hover{background:rgba(255,255,255,0.06);transform:translateX(4px)}
.sidebar-button.active{background:rgba(255,255,255,0.14);box-shadow:inset 0 1px 0 rgba(255,255,255,0.04)}
.sidebar-button svg{width:18px;height:18px;opacity:0.95}

.content{flex:1;padding:20px 28px;background:transparent;min-width:0;overflow:auto}

.container{max-width:none;width:100%;margin:0;padding:0}

.feature{background:var(--card);padding:22px;border-radius:14px;box-shadow:0 8px 30px rgba(17,24,39,0.06);margin:0 0 26px 0;border:1px solid rgba(15,23,42,0.03);width:100%;max-width:none}
.feature h2{margin:0 0 12px 0;color:var(--primary);font-size:1.1rem}

.prompt-container, .inpainting-container{display:flex;flex-direction:column;gap:14px;margin-top:12px}
.control-group{display:flex;align-items:center;gap:12px;width:100%}

.input{padding:12px 14px;border:1px solid #dee2e6;border-radius:10px;font-size:0.95rem;flex:1;background:#fff}
.textarea{min-height:80px;resize:vertical}
.file-input{padding:8px;border-radius:8px;border:1px dashed #dee2e6;background:#fff}

.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
.btn.primary{background:var(--primary);color:white;box-shadow:0 8px 18px rgba(54,116,181,0.12);transition:transform .12s ease}
.btn.primary:active{transform:translateY(1px)}
.btn.ghost{background:transparent;border:1px solid #dee2e6;color:var(--muted)}
.btn:disabled{opacity:0.6;cursor:not-allowed}

.image-container{margin-top:18px;border-radius:10px;overflow:hidden;background:var(--card);display:flex;justify-content:center;align-items:center;border:1px solid #e9ecef;max-width:none;width:100%}
.image-container img{max-width:100%;height:auto;object-fit:contain;display:block}

/* Unified media box: used for input canvas and edited/generated images so both display at the same rendered size */
.media-box{
  width:100%;
  max-width:1100px; /* allow large layouts but cap to a pleasant width */
  height:600px; /* fixed display height so images and canvas render the same visual size */
  border-radius:10px;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--card);
  border:1px solid #e9ecef;
}
.media-box img{width:100%;height:100%;object-fit:contain;display:block}
.media-box canvas{width:100%;height:100%;display:block}

.error{color:#b00020;margin-top:8px}

/* Responsive breakpoints */
@media (max-width:1200px){
  .content{padding:18px 22px}
  .feature{padding:18px}
}

@media (max-width:900px){
  /* Stack sidebar above content and turn it into a horizontal nav */
  .main-content{flex-direction:column}

  .sidebar{
    display:flex;
    width:100%;
    flex-direction:row;
    gap:8px;
    padding:10px;
    align-items:center;
    border-radius:0;
    border-top-right-radius:0;
    border-bottom-right-radius:0;
    box-shadow:none;
    background:linear-gradient(90deg,var(--accent),var(--primary));
    overflow-x:auto;
  }

  .sidebar-button{white-space:nowrap;padding:10px 12px;font-size:0.98rem}

  .content{padding:14px}
  .container{padding:0}

  /* Stack controls vertically on small screens */
  .control-group{flex-direction:column;align-items:stretch}
  .btn{width:100%}
  .input{width:100%}

  /* Make inpainting layout stack and scale canvas */
  .inpainting-container{flex-direction:column}
  .inpainting-container canvas{max-height:60vh;width:100%;height:auto}

  /* reduce media-box height on smaller screens */
  .media-box{height:50vh;max-width:100%}

  /* Limit image height on small devices to avoid overly tall images */
  .image-container{max-height:70vh}
}

@media (max-width:600px){
  .App-header h1{font-size:1rem}
  .feature h2{font-size:1rem}
  .sidebar-button{font-size:0.95rem;padding:8px 10px}
  .content{padding:12px}
}
